"use strict";(self.webpackChunktt=self.webpackChunktt||[]).push([[702],{702:function(e,t,s){s.r(t),s.d(t,{default:function(){return W}});var r=s(1413),i=s(7313),l=s(9439),n=s(5075),a=s(3915),o=s(1969),c=s(935),A=s(8831),u=s(5653),m=s(3485),v=s(4090),d=s(6417),b=s(9527),f=(0,i.memo)((function(e){var t=(0,u.H)(),s=t.moviesVoted,r=t.addMovieVote,o=(0,i.useState)(!1),f=(0,l.Z)(o,2),h=f[0],j=f[1],V=(0,i.useCallback)((function(){if(h&&(0,v.yD)(s))return j(!1)}),[h,s]),p=(0,i.useCallback)((function(){j(!0),r(e.movie),a.ZP.success("You voted for the movie ".concat(e.movie.title))}),[r,e.movie]),N=(0,i.useCallback)((function(){return h?(0,d.jsx)(x,{}):(0,d.jsx)(n.zx,{className:"vote",title:"Vote for this movie",backgroundColor:"var(--bg-darkred)",icon:{name:c.uGQ},onClick:p})}),[h,p]);(0,i.useEffect)((function(){return V()}),[s,V]);var g=m.Z.convertEmptySpacesInHyphens(e.movie.title),C=h?"rgba(0,0,0,.84)":"rgba(0,0,0,.64)";return(0,d.jsxs)("figure",{className:"position-relative",children:[(0,d.jsx)(A.LazyLoadImage,{height:350,alt:g,effect:"blur",placeholderSrc:b,src:e.movie.photoUrL,className:"movie-image"}),(0,d.jsx)(n.kC,{align:"center",justify:"center",className:"wrapper",style:{backgroundColor:C},children:N()})]})})),x=function(){return(0,d.jsxs)("div",{className:"vote",children:[(0,d.jsx)(o.G,{icon:c.f8k,color:"var(--bg-green)",className:"d-block mx-auto"}),(0,d.jsx)("span",{className:"d-block",style:{color:"var(--bg-green)"},children:"You voted for this movie"})]})},h=s(7306),j=h.Z.Title,V=(0,i.memo)((function(e){return(0,d.jsxs)("article",{className:"movie",children:[(0,d.jsx)(f,{movie:e}),(0,d.jsx)(j,{level:4,className:"title text-center",children:e.title})]})})),p=s(6931),N=h.Z.Title,g=function(){var e=(0,u.H)().moviesVoted,t=(0,i.useCallback)((function(e){var t=m.Z.convertEmptySpacesInHyphens(e.title);return(0,d.jsxs)(p.ZP.Item,{className:"movie",children:[(0,d.jsx)("figure",{children:(0,d.jsx)("img",{width:150,height:150,alt:t,loading:"lazy",src:e.photoUrL})}),(0,d.jsxs)("section",{children:[(0,d.jsx)(N,{level:4,className:"title mb-0",children:"Movie name:"}),(0,d.jsx)(N,{level:5,className:"value mt-0",children:e.title}),(0,d.jsx)(N,{level:4,className:"title mt-0 mb-0",children:"Movie category:"}),(0,d.jsx)(N,{level:5,className:"value mt-0",children:e.category})]})]})}),[]);return(0,d.jsx)(p.ZP,{size:"large",className:"movies-details",dataSource:e,renderItem:t})},C=s(2747),Z=function(){var e=(0,u.H)(),t=e.moviesVoted,s=e.setDefaultMoviesVoted,r=(0,i.useState)(!1),o=(0,l.Z)(r,2),c=o[0],A=o[1],m=(0,i.useCallback)((function(){if((0,v.yD)(t))return a.ZP.warning("No movie votes yet");A(!0)}),[t]),b=(0,i.useCallback)((function(){return A(!1)}),[]),f=(0,i.useCallback)((function(){return b(),s(),a.ZP.info("All movie votes have been reset")}),[b,s]);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(n.zx,{title:"Submit votes",className:"submit-votes",onClick:m}),(0,d.jsx)(C.Z,{title:"Votes Submitted",visible:c,onCancel:b,footer:(0,d.jsx)(k,{onCancel:f}),children:(0,d.jsx)(g,{})})]})},k=function(e){var t=e.onCancel;return(0,d.jsx)(n.zx,{title:"Cancel",onClick:t,className:"close-modal",backgroundColor:"var(--bg-darkyellow)"})},y=s(2210),X=h.Z.Title;function M(e){if((0,v.Qr)(e))return(0,d.jsx)(n.iz,{totalItems:36});var t=Object.keys(e);return t.sort(),t.map((function(t){return(0,d.jsxs)("section",{className:"mt-20",children:[(0,d.jsx)(X,{level:2,className:"movie-category",children:t}),(s=e[t].movies,(0,d.jsx)(n.lr,{spaceBetween:10,className:"movies",children:s.map((function(e,t){return(0,d.jsx)(y.o5,{children:(0,d.jsx)(V,(0,r.Z)({},e))},"".concat(e.id,"-").concat(t))}))}))]},t);var s}))}var W=function(){var e=(0,u.H)(),t=e.getMovies,s=e.movies,r=e.groupedMovies,l=e.setGroupedMovies;return(0,i.useEffect)((function(){return t()}),[]),(0,i.useEffect)((function(){if(!(0,v.yD)(s)&&(0,v.Qr)(r)){var e=m.Z.groupMovies(s);l(e)}}),[r,s]),(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)("section",{className:"mt-30 mb-20",children:M(r)}),(0,d.jsx)(Z,{})]})}},9527:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAAvVBMVEXp7vHf4+bN0dTBxci7v8K6vsG9wcTGys3U2dzm6+7l6u3IzdDW297i5+q/w8bO0tXAxMfS19rM0dTh5unj6OvKztHT2Nu8wMPn7O/JzdC+wsXa3+LN0tXe4+bEyMu/xMfZ3uHDx8rZ3eDDyMvY3N/IzM/L0NPg5ejY3eDQ1djo7fDa3uHM0NPW2t3V2dzf5OfR1tnU2Nvk6Ovb3+LQ1Nfb4OPFyczLz9LP09bV2t3X3N/P1Ne9wsXHy87S1tlRJxizAAAC30lEQVR42u3cjVIURxSA0Vb3LixBNBFxgYSAiRo3JoRE82/e/7Fi7YhXcWCc0h2Z7XNeYKq/qpm63VPVBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICPcOPmrUmszHRjc1bWxdYXsWrT7bIebu/EAO6UdTC7G4P4sqyBr2IYk3tl9HYnMZD7ZfT2YigP5mXs9mPp4PD2qtz7OhrflLE7iqXNskLfxtJxGbuTWHpYVui782eMnVhiiXUVsa6b1lhb39/Zf/R474lYnbF2H0+icXIo1tWxfngQ6f5crCtibcY7jmZiXRrrMC54JNZlsWYHcdG2WJfEehrv2VmI1RprcRDv+1Gs1lg3osUzsVpj/RQtTkqXn09rjPVLtNgpHc5ieipWY6ezVbyqVV+sXq9htlrWqi7WaZ8PfLZqatUWq9/okK2aWpXF6jGUZqusVVmsHtudbJW16orVZyOdrbJWXbH6HNFkq6xVV6y2w7/uVlmrrljl12dvjpV/K31aNbXqitX2w6K7VdaqLFbq0SpridXdKmuJ1d0qa4nV3SpridXdKmuJla26a9UYa9GzVdaqL9bxrd2erbJWbbGOJ3F3t2errFVXrFetoqnVp1XWqinWslVTK1v1MJ3XE6tp1dTKVn3Mqol13iprnYVYuZC2VlnrLMTKhbS1ylp7IVYupK1V1noeYmWs9lZJrIx1oZVYXbGylVhdsbKVWF2xspVYXbGylVhdsbKVWF2xspVYHxjrxSTE+tBYT0MsscR6m1jXjVhiiXUVsa4bscQaItbp9ie1WOtY73C9ilhiFbGuG7F6+D2WnpfVmU1j6bCM3R+xNPlze1X+OorGkzJ2f8dQDhZl7GbTGMg/Zfz2Yhj/bpXxW7yMIUxelHUwH6LWZPxzw2ub01ixjTW4DP7c/OHNlxsrs//f+IcGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgM/of+JasIzN5o31AAAAAElFTkSuQmCC"}}]);