"use strict";(self.webpackChunktt=self.webpackChunktt||[]).push([[702],{702:function(e,t,s){s.r(t),s.d(t,{default:function(){return V}});var o=s(1413),r=s(7313),n=s(9439),a=s(5075),i=s(3915),l=s(1969),c=s(935),u=s(5653),m=s(3485),v=s(4090),d=s(6417),f=s(6396).Z,x=(0,r.memo)((function(e){var t=(0,u.H)(),s=t.moviesVoted,o=t.addMovieVote,l=(0,r.useState)(!1),x=(0,n.Z)(l,2),j=x[0],g=x[1],b=(0,r.useCallback)((function(){if(j&&(0,v.yD)(s))return g(!1)}),[j,s]),k=(0,r.useCallback)((function(){g(!0),o(e.movie);var t=e.movie.movieCategory.toLowerCase(),s="You voted for ".concat(t,': "').concat(e.movie.title,'"');i.ZP.success(s,6)}),[o,e.movie]),y=(0,r.useCallback)((function(){return j?(0,d.jsx)(h,{}):(0,d.jsx)(a.zx,{className:"vote",title:"Vote for this movie",backgroundColor:"var(--bg-darkred)",icon:{name:c.uGQ},onClick:k})}),[j,k]);(0,r.useEffect)((function(){return b()}),[s,b]);var C=m.Z.convertEmptySpacesInHyphens(e.movie.title),N=j?"rgba(0,0,0,.84)":"rgba(0,0,0,.64)";return(0,d.jsxs)("figure",{className:"position-relative",style:{height:400},children:[(0,d.jsx)(f,{ease:!0,lazy:!0,width:350,height:350,alt:C,src:e.movie.photoUrL,className:"movie-image absolute-total",style:{backgroundColor:"#222222"}}),(0,d.jsx)(a.kC,{align:"center",justify:"center",className:"wrapper",style:{backgroundColor:N},children:y()})]})})),h=function(){return(0,d.jsxs)("div",{className:"vote",children:[(0,d.jsx)(l.G,{icon:c.f8k,color:"var(--bg-green)",className:"d-block mx-auto"}),(0,d.jsx)("span",{className:"d-block",style:{color:"var(--bg-green)"},children:"You voted for this movie"})]})},j=s(7306),g=j.Z.Title,b=(0,r.memo)((function(e){return(0,d.jsxs)("article",{className:"movie",children:[(0,d.jsx)(x,{movie:e}),(0,d.jsx)(g,{level:4,className:"title text-center",children:e.title})]})})),k=s(6931),y=j.Z.Title,C=function(){var e=(0,u.H)().moviesVoted,t=(0,r.useCallback)((function(e){var t=m.Z.convertEmptySpacesInHyphens(e.title);return(0,d.jsxs)(k.ZP.Item,{className:"movie",children:[(0,d.jsx)("figure",{children:(0,d.jsx)("img",{width:150,height:150,alt:t,loading:"lazy",src:e.photoUrL})}),(0,d.jsxs)("section",{children:[(0,d.jsx)(y,{level:4,className:"title mb-0",children:"Movie name:"}),(0,d.jsx)(y,{level:5,className:"value mt-0",children:e.title}),(0,d.jsx)(y,{level:4,className:"title mt-0 mb-0",children:"Movie category:"}),(0,d.jsx)(y,{level:5,className:"value mt-0",children:e.category})]})]})}),[]);return(0,d.jsx)(k.ZP,{size:"large",className:"movies-details",dataSource:e,renderItem:t})},N=s(2747),p=function(){var e=(0,u.H)(),t=e.moviesVoted,s=e.setDefaultMoviesVoted,o=(0,r.useState)(!1),l=(0,n.Z)(o,2),c=l[0],m=l[1],f=(0,r.useCallback)((function(){if((0,v.yD)(t))return i.ZP.warning("No movie votes yet");m(!0)}),[t]),x=(0,r.useCallback)((function(){return m(!1)}),[]),h=(0,r.useCallback)((function(){return x(),s(),i.ZP.info("All movie votes have been reset")}),[x,s]);return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(a.zx,{title:"Submit votes",className:"submit-votes",onClick:f}),(0,d.jsx)(N.Z,{title:"Votes Submitted",visible:c,onCancel:x,footer:(0,d.jsx)(Z,{onCancel:h}),children:(0,d.jsx)(C,{})})]})},Z=function(e){var t=e.onCancel;return(0,d.jsx)(a.zx,{title:"Cancel",onClick:t,className:"close-modal",backgroundColor:"var(--bg-darkyellow)"})},w=s(2210),M=j.Z.Title;function z(e){if((0,v.Qr)(e))return(0,d.jsx)(a.iz,{});var t=Object.keys(e);return t.sort(),t.map((function(t){return(0,d.jsxs)("section",{className:"mt-20",children:[(0,d.jsx)(M,{level:2,className:"movie-category",children:t}),S({category:t,movies:e[t].movies})]},t)}))}function S(e){var t=e.movies,s=e.category;return(0,d.jsx)(a.lr,{spaceBetween:10,className:"movies",children:t.map((function(e,t){return(0,d.jsx)(w.o5,{children:(0,d.jsx)(b,(0,o.Z)((0,o.Z)({},e),{},{movieCategory:s}))},"".concat(e.id,"-").concat(t))}))})}var V=function(){var e=(0,u.H)(),t=e.getMovies,s=e.movies,o=e.groupedMovies,n=e.setGroupedMovies;return(0,r.useEffect)((function(){return t()}),[]),(0,r.useEffect)((function(){if(!(0,v.yD)(s)&&(0,v.Qr)(o)){var e=m.Z.groupMovies(s);n(e)}}),[o,s]),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)("section",{className:"mt-30 mb-20",children:z(o)}),(0,d.jsx)(p,{})]})}}}]);