"use strict";(self.webpackChunktt=self.webpackChunktt||[]).push([[815],{2815:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(1413),s=t(9439),l=t(7313),c=t(5075),a=t(7306),i=t(9624),o=t(8197),u=t(3485),m=t(6417),f=a.Z.Title,v=function(e){var n=e.collections,t=e.onPressItem,r=(0,l.useCallback)((function(e){return e.map((function(e,n){var r=u.Z.convertEmptySpacesInHyphens(e.title);return(0,m.jsx)(i.Z,{xs:24,sm:16,md:12,lg:10,xl:8,xxl:6,className:"movies-details",children:(0,m.jsxs)(c.kC,{className:"movie cursor-pointer",onClick:function(){return t(e)},children:[(0,m.jsx)("figure",{children:(0,m.jsx)("img",{src:e.photoUrL,width:150,height:150,alt:r})}),(0,m.jsxs)("section",{children:[(0,m.jsx)(f,{level:4,className:"title mb-0",children:"Movie name:"}),(0,m.jsx)(f,{level:5,className:"value mt-0",children:e.title}),(0,m.jsx)(f,{level:4,className:"title mt-0 mb-0",children:"Movie category:"}),(0,m.jsx)(f,{level:5,className:"value mt-0",children:e.category})]})]},n)},n)}))}),[t]),s=(0,l.useCallback)((function(){return n.map((function(e,n){var t=e.items;return r(t)}))}),[n,r]);return(0,m.jsx)(o.Z,{align:"middle",gutter:[10,10],className:"autocomplete border-none  px-10 py-20",children:s()})},p=(0,l.memo)(v),d=t(3690),h=t(935),x=t(1969),g=t(1564),j=t(5653),k=t(1945),b=function(){var e=(0,l.useRef)(null),n=(0,l.useRef)(null),t=(0,l.useRef)(null),a=(0,j.H)().setGroupedMovies,i=(0,l.useState)({isOpen:!1,collections:[]}),o=(0,s.Z)(i,2),f=o[0],v=o[1],b=(0,l.useMemo)((function(){return(0,g.l)({placeholder:"Search an movie...",onStateChange:function(e){var n=e.state;return v(n)},getSources:function(e){e.query;return[{sourceId:"api-movies-awards-ballot",getItems:function(e){var n=e.query;return(0,k.z)({query:n})}}]}})}),[]),C=b.getFormProps,Z=b.getInputProps,N=b.getPanelProps,y=b.setQuery,I=b.setIsOpen,P=C({inputElement:e.current}),M=Z({inputElement:n.current}),w=N(),S=(0,l.useCallback)((function(e){return y(e)}),[]),E=(0,l.useCallback)((function(e){var n=u.Z.groupMovies([e]);a(n),I(!1),S(e.title)}),[]),q=(0,l.useCallback)((function(){for(var e=f.collections,n=0;n<e.length;n++){var t=e[n].items,r=u.Z.groupMovies(t);a(r)}I(!1)}),[f.collections]),O=(0,l.useCallback)((function(){return(0,m.jsx)(d.Z,(0,r.Z)({ref:n,className:"search",onPressEnter:q,suffix:(0,m.jsx)(x.G,{size:"lg",icon:h.wn1,color:"var(--bg-darkred)",className:"scale cursor-pointer",onClick:q})},M))}),[M.value]),R=(0,l.useCallback)((function(){var e=f.isOpen,n=f.collections;if(e)return(0,m.jsx)("div",(0,r.Z)((0,r.Z)({ref:t},w),{},{children:(0,m.jsx)(p,{collections:n,onPressItem:E})}))}),[f]);return(0,m.jsxs)("form",(0,r.Z)((0,r.Z)({ref:e,className:"position-relative"},P),{},{children:[(0,m.jsx)(c.kC,{className:"search-container mt-20 position-relative",align:"center",children:O()}),R()]}))}}}]);