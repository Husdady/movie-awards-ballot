"use strict";(self.webpackChunktt=self.webpackChunktt||[]).push([[181],{1181:function(e,t,s){s.r(t),s.d(t,{default:function(){return M}});var n=s(1413),o=s(2791),r=s(9439),i=s(4658),a=s(5669),l=s(4483),c=s(3174),u=s(1631),m=s(9471),v=s(5233),d=s(184),f=(0,o.memo)((function(e){var t=(0,u.H)(),s=t.moviesVoted,n=t.addMovieVote,l=(0,o.useState)(!1),f=(0,r.Z)(l,2),j=f[0],h=f[1],b=(0,o.useCallback)((function(){if(j&&(0,v.yD)(s))return h(!1)}),[j,s]),g=(0,o.useCallback)((function(){h(!0),n(e.movie),a.ZP.success("You voted for the movie ".concat(e.movie.title))}),[n,e.movie]),k=(0,o.useCallback)((function(){return j?(0,d.jsx)(x,{}):(0,d.jsx)(i.zx,{className:"vote",title:"Vote for this movie",backgroundColor:"var(--bg-darkred)",icon:{name:c.uGQ},onClick:g})}),[j,g]);(0,o.useEffect)((function(){return b()}),[s,b]);var N=m.Z.convertEmptySpacesInHyphens(e.movie.title),C=j?"rgba(0,0,0,.84)":"rgba(0,0,0,.64)";return(0,d.jsxs)("figure",{className:"position-relative",children:[(0,d.jsx)("img",{height:450,alt:N,src:e.movie.photoUrL,className:"movie-image"}),(0,d.jsx)(i.kC,{align:"center",justify:"center",className:"wrapper",style:{backgroundColor:C},children:k()})]})})),x=function(){return(0,d.jsxs)("div",{className:"vote",children:[(0,d.jsx)(l.G,{icon:c.f8k,color:"var(--bg-green)",className:"d-block mx-auto"}),(0,d.jsx)("span",{className:"d-block",style:{color:"var(--bg-green)"},children:"You voted for this movie"})]})},j=s(7082),h=j.Z.Title,b=(0,o.memo)((function(e){return(0,d.jsxs)("article",{className:"movie",children:[(0,d.jsx)(f,{movie:e}),(0,d.jsx)(h,{level:4,className:"title text-center",children:e.title})]})})),g=s(4532),k=j.Z.Title,N=function(){var e=(0,u.H)().moviesVoted,t=(0,o.useCallback)((function(e){return(0,d.jsxs)(g.ZP.Item,{className:"movie-vote",children:[(0,d.jsx)("figure",{children:(0,d.jsx)("img",{src:e.photoUrL,width:150,height:150})}),(0,d.jsxs)("section",{children:[(0,d.jsx)(k,{level:4,className:"title mb-0",children:"Movie name:"}),(0,d.jsx)(k,{level:5,className:"value mt-0",children:e.title}),(0,d.jsx)(k,{level:4,className:"title mt-0 mb-0",children:"Movie category:"}),(0,d.jsx)(k,{level:5,className:"value mt-0",children:e.category})]})]})}),[]);return(0,d.jsx)(g.ZP,{size:"large",className:"movies-voted",dataSource:e,renderItem:t})},C=s(7628),p=function(){var e=(0,u.H)(),t=e.moviesVoted,s=e.setDefaultMoviesVoted,n=(0,o.useState)(!1),l=(0,r.Z)(n,2),c=l[0],m=l[1],f=(0,o.useCallback)((function(){if((0,v.yD)(t))return a.ZP.warning("No movie votes yet");m(!0)}),[t]),x=(0,o.useCallback)((function(){return m(!1)}),[]),j=(0,o.useCallback)((function(){return x(),s(),a.ZP.info("All movie votes have been reset")}),[x,s]);return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(i.zx,{title:"Submit votes",className:"submit-votes",onClick:f}),(0,d.jsx)(C.Z,{title:"Votes Submitted",visible:c,onCancel:x,footer:(0,d.jsx)(y,{onCancel:j}),children:(0,d.jsx)(N,{})})]})},y=function(e){var t=e.onCancel;return(0,d.jsx)(i.zx,{title:"Cancel",onClick:t,className:"close-modal",backgroundColor:"var(--bg-darkyellow)"})},Z=s(2815),w=j.Z.Title;function V(e){if((0,v.Qr)(e))return(0,d.jsx)(i.iz,{totalItems:36});var t=Object.keys(e);return t.sort(),t.map((function(t){return(0,d.jsxs)("section",{className:"mt-20",children:[(0,d.jsx)(w,{level:2,className:"movie-category",children:t}),(s=e[t].movies,(0,d.jsx)(i.lr,{speed:4e3,spaceBetween:10,className:"movies",children:s.map((function(e,t){return(0,d.jsx)(Z.o5,{children:(0,d.jsx)(b,(0,n.Z)({},e))},"".concat(e.id,"-").concat(t))}))}))]},t);var s}))}var M=function(){var e=(0,u.H)(),t=e.getMovies,s=e.groupedMovies;return(0,o.useEffect)((function(){t()}),[t]),(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)("section",{className:"mt-30 mb-20",children:V(s)}),(0,d.jsx)(p,{})]})}}}]);
//# sourceMappingURL=181.a7934a40.chunk.js.map